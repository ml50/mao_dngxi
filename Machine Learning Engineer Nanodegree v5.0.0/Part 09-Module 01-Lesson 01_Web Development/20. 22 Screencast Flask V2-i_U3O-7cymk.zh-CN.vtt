WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:03.200
这是另一种类型的优达学城 workspace

00:00:03.200 --> 00:00:07.820
这是一个 IDE 或集成开发环境

00:00:07.820 --> 00:00:10.679
提供了编写软件的工具

00:00:10.679 --> 00:00:12.504
有文件浏览器

00:00:12.505 --> 00:00:14.915
终端和代码编辑器

00:00:14.914 --> 00:00:17.744
我在这里为你设置了一个 Flask 应用

00:00:17.745 --> 00:00:20.320
先来介绍一下这些不同文件

00:00:20.320 --> 00:00:23.910
首先 worldbank.py 文件

00:00:23.910 --> 00:00:27.785
这是你将在终端中运行以启动 Web 应用的文件

00:00:27.785 --> 00:00:32.734
此文件从 worldbankapp 文件夹导入 app

00:00:32.734 --> 00:00:35.490
你马上就能看到这个 app 是什么

00:00:35.490 --> 00:00:37.100
应用程序运行时

00:00:37.100 --> 00:00:42.210
在端口 3001 上 你可以在 port 属性中看到

00:00:42.210 --> 00:00:45.615
worldbankapp 文件夹里面有什么?

00:00:45.615 --> 00:00:50.155
有一个 init 文件 这意味着我将其设置为了 Python 软件包

00:00:50.155 --> 00:00:51.689
当软件包运行时

00:00:51.689 --> 00:00:53.780
首先运行 init 文件

00:00:53.780 --> 00:00:55.245
这就是 init 文件

00:00:55.244 --> 00:01:01.219
首先 导入 flask 库 然后创建一个名为 app 的变量

00:01:01.219 --> 00:01:03.589
最后导入 routes 文件

00:01:03.590 --> 00:01:06.439
理解这些相关文件中的代码如何协同工作 会有些棘手

00:01:06.439 --> 00:01:09.495
理解这些相关文件中的代码如何协同工作 会有些棘手

00:01:09.495 --> 00:01:12.770
如果我在终端的 workspace 目录中

00:01:12.769 --> 00:01:16.234
可以运行 'python worldbank.py' 来启动应用

00:01:16.234 --> 00:01:22.719
我要打开一个终端并运行 'python worldbank.py'

00:01:22.719 --> 00:01:28.879
init 文件运行 导入了 app 变量以及 routes 文件

00:01:28.879 --> 00:01:31.289
如果你没有完全理解这些代码的逻辑

00:01:31.290 --> 00:01:33.160
不用太担心

00:01:33.159 --> 00:01:36.484
构建应用并不需要完全理解这些内容

00:01:36.484 --> 00:01:39.250
你需要修改的实际代码是

00:01:39.250 --> 00:01:43.079
routes.py 和 template 文件夹中的文件

00:01:43.079 --> 00:01:47.765
routes.py 和 template 文件夹是 "奇迹" 所在

00:01:47.765 --> 00:01:50.935
这些是你实际上需要完成的工作

00:01:50.935 --> 00:01:55.150
在 routes.py 中 我在顶部导入这个 app 变量

00:01:55.150 --> 00:01:59.415
然后从 flask 库导入 render_template 方法

00:01:59.415 --> 00:02:01.565
稍后你将看到 render_template 就是

00:02:01.564 --> 00:02:07.034
根据 Web 地址指定应显示内容 HTML 文件

00:02:07.034 --> 00:02:09.199
第一块代码的意思是

00:02:09.199 --> 00:02:14.344
如果用户访问网站主页 比如 www.udacity.com

00:02:14.344 --> 00:02:19.955
或 www.udacity.com/index 或你的其他网站名称

00:02:19.955 --> 00:02:23.430
那么应该渲染 index.html

00:02:23.430 --> 00:02:25.314
第二个例子是说

00:02:25.314 --> 00:02:27.365
如果转到网页名称

00:02:27.365 --> 00:02:31.430
然后输入 /project-one

00:02:31.430 --> 00:02:35.930
应该渲染 project_one.html 文件

00:02:35.930 --> 00:02:39.795
这些 HTML 文件位于 templates 文件夹中

00:02:39.794 --> 00:02:44.414
再次说明 在 @app.route 中指定 Web 地址

00:02:44.414 --> 00:02:48.995
然后指定传入到 render_template 方法的 HTML 文件

00:02:48.995 --> 00:02:52.039
index 和 project_one 这样的函数可以任意命名

00:02:52.039 --> 00:02:55.969
index 和 project_one 这样的函数可以任意命名

00:02:55.969 --> 00:03:01.025
你自己的计算机可以在开发应用时 创建一个本地的后端服务器

00:03:01.025 --> 00:03:04.010
所以 同样地 在教室里你也可以启动

00:03:04.009 --> 00:03:07.289
一个后端服务器来查看 Web 应用的渲染效果

00:03:07.289 --> 00:03:10.840
你只需要知道在浏览器输入什么地址即可

00:03:10.840 --> 00:03:15.729
实际上 当我输入 'python worldbank.py' 时 就已经启动了 Web 应用

00:03:15.729 --> 00:03:20.709
所以 我先点击 Control-C 来关闭应用

00:03:20.710 --> 00:03:22.865
好的 首先你需要知道

00:03:22.865 --> 00:03:26.439
在浏览器中放入什么网址可以来查看你的网站

00:03:26.439 --> 00:03:30.395
在教室中 你要做的就是输入 env

00:03:30.395 --> 00:03:34.534
然后管道 | grep WORK

00:03:34.534 --> 00:03:39.365
env 命令显示 workspace 的所有环境变量

00:03:39.365 --> 00:03:44.129
env | grep WORK 命令的作用

00:03:44.129 --> 00:03:46.849
就是筛选出变量名包含 WORK 的环境变量

00:03:46.849 --> 00:03:49.814
就是筛选出变量名包含 WORK 的环境变量

00:03:49.814 --> 00:03:53.810
Web 地址就是这个 WORKSPACEID 后面接

00:03:53.810 --> 00:03:58.235
-3001. 然后是这个 WORKSPACEDOMAIN

00:03:58.235 --> 00:04:00.740
我也会在视频下方附加说明

00:04:00.740 --> 00:04:05.975
现在 执行 worldbank.py 文件时 服务器就会启动

00:04:05.974 --> 00:04:09.164
输入 'python worldbank.py'

00:04:09.164 --> 00:04:12.984
现在 它说服务器正在端口 3001 上运行

00:04:12.985 --> 00:04:17.855
现在 在浏览器中放入正确的 Web 地址 就可以看到该应用

00:04:17.855 --> 00:04:21.925
应用显示出来了 这是 index.html 页面

00:04:21.925 --> 00:04:24.259
现在 如何在链接中放入 project-one

00:04:24.259 --> 00:04:28.644
可以看到 project_one.html 页面

00:04:28.644 --> 00:04:30.625
回到 workspace

00:04:30.625 --> 00:04:33.889
打开这些模板 你可以看到

00:04:33.889 --> 00:04:37.414
它们只是 HTML 这就是刚才渲染的那些 HTML

00:04:37.415 --> 00:04:40.335
实际上你可以修改这些 HTML

00:04:40.334 --> 00:04:43.799
workspace 中一切都会自动保存

00:04:43.800 --> 00:04:48.875
现在 如果刷新页面的话 你可以看到

00:04:48.875 --> 00:04:52.305
HTML 会自动更新

00:04:52.305 --> 00:04:54.949
接下来 你将进行练习

00:04:54.949 --> 00:04:58.800
扩展这个 Web 应用 习惯这些路由和模板

